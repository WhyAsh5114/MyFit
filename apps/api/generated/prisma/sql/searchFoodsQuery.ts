
/* !!! This is code generated by Prisma. Do not edit directly. !!! */
/* eslint-disable */
// biome-ignore-all lint: generated file
// @ts-nocheck 
import * as $runtime from "@prisma/client/runtime/client"

/**
 * @param search - The search term to look for
 * @param offset - Number of results to skip (for pagination)
 * @param limit - Number of results to return
 */
export const searchFoodsQuery = $runtime.makeTypedQueryFactory("\nSELECT\nid,\ncode,\n\"productName\",\nbrands,\n\"energyKcal_100g\",\n\"servingSize\",\n\"servingQuantity\"\nFROM \"NutritionData\"\nWHERE\n\"searchVector\" @@ websearch_to_tsquery('english', unaccent($1::text))\nOR \"productName\" % $1::text\nOR brands % $1::text\nORDER BY\n(\nts_rank_cd(\n\"searchVector\",\nwebsearch_to_tsquery('english', unaccent($1::text))\n) * 0.7\n+\nGREATEST(\nsimilarity(\"productName\", $1::text),\nsimilarity(COALESCE(brands, ''), $1::text)\n) * 0.3\n) * 0.7\n+\n(LN(GREATEST(\"uniqueScans\", 1)) / LN(10000)) * 0.2\n+\nCOALESCE(completeness, 0) * 0.1\nDESC,\nid ASC\nLIMIT $3\nOFFSET $2;") as (search: string, offset: number, limit: number) => $runtime.TypedSql<searchFoodsQuery.Parameters, searchFoodsQuery.Result>

export namespace searchFoodsQuery {
  export type Parameters = [search: string, offset: number, limit: number]
  export type Result = {
    id: string
    code: string
    productName: string
    brands: string | null
    energyKcal_100g: number
    servingSize: string | null
    servingQuantity: number | null
  }
}
